<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>P&K Store - MLBB Diamond Top-Up</title>
  <link rel="icon" type="image/png" href="https://i.ibb.co/TxRTR7gK/Screenshot-2025-07-02-093146.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://apis.google.com/js/api.js"></script>
</head>
<body>
  <div class="container">
    <!-- Header -->
    <header class="header">
      <div class="logo-container">
        <img src="https://i.ibb.co/TxRTR7gK/Screenshot-2025-07-02-093146.png" alt="P&K Store Logo" class="logo">
        <div class="store-info">
          <h1>P&K Store</h1>
          <p class="tagline">Premium MLBB Diamond Top-Up Service</p>
        </div>
      </div>
      
      <!-- Sync Status -->
      <div class="sync-status-bar">
        <div class="sync-indicator">
          <span id="sync-status" class="sync-status disconnected">âš« Local Only</span>
          <button id="connect-drive-btn" class="btn btn--sm btn--outline">Connect Drive</button>
        </div>
      </div>
    </header>

    <!-- Login Section -->
    <section id="login-section" class="login-section">
      <div class="login-card">
        <h2>ðŸŽ® Login to P&K Store</h2>
        <form id="login-form" class="login-form">
          <div class="form-group">
            <label for="username" class="form-label">Username</label>
            <input type="text" id="username" class="form-control" placeholder="Enter your username" required>
          </div>
          <div class="form-group">
            <label for="password" class="form-label">Password</label>
            <input type="password" id="password" class="form-control" placeholder="Enter your password" required>
          </div>
          <button type="submit" class="btn btn--primary btn--full-width">Login</button>
        </form>
        <div class="login-footer">
          <p>New customer? <a href="#" id="show-register">Create Account</a></p>
          <p class="forgot-password"><a href="#" id="forgot-password">Forgot Password?</a></p>
        </div>
      </div>
    </section>

    <!-- Registration Modal -->
    <div id="register-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Create New Account</h3>
          <button class="close-btn" id="close-register">&times;</button>
        </div>
        <form id="register-form" class="modal-body">
          <div class="form-group">
            <label for="reg-username" class="form-label">Username</label>
            <input type="text" id="reg-username" class="form-control" placeholder="Choose a username" required>
            <small class="form-help">4-20 characters, letters and numbers only</small>
          </div>
          <div class="form-group">
            <label for="reg-password" class="form-label">Password</label>
            <input type="password" id="reg-password" class="form-control" placeholder="Create a password" required>
            <small class="form-help">Minimum 6 characters</small>
          </div>
          <div class="form-group">
            <label for="reg-confirm" class="form-label">Confirm Password</label>
            <input type="password" id="reg-confirm" class="form-control" placeholder="Confirm your password" required>
          </div>
          <div class="form-group">
            <label for="reg-email" class="form-label">Email (Optional)</label>
            <input type="email" id="reg-email" class="form-control" placeholder="Your email for recovery">
          </div>
          <button type="submit" class="btn btn--primary btn--full-width">Create Account</button>
        </form>
      </div>
    </div>

    <!-- Password Recovery Modal -->
    <div id="recovery-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Password Recovery</h3>
          <button class="close-btn" id="close-recovery">&times;</button>
        </div>
        <form id="recovery-form" class="modal-body">
          <div class="form-group">
            <label for="recovery-username" class="form-label">Username</label>
            <input type="text" id="recovery-username" class="form-control" placeholder="Enter your username" required>
          </div>
          <div class="form-group">
            <label for="recovery-email" class="form-label">Email</label>
            <input type="email" id="recovery-email" class="form-control" placeholder="Enter your email" required>
          </div>
          <button type="submit" class="btn btn--primary btn--full-width">Send Recovery Link</button>
        </form>
      </div>
    </div>

    <!-- Main Store Content -->
    <main id="store-content" class="store-content hidden">
      <!-- User Info Bar -->
      <div class="user-bar">
        <div class="user-info">
          <span class="user-welcome">Welcome, <span id="current-user">User</span>!</span>
          <span class="user-role" id="user-role"></span>
          <span class="user-balance" id="user-balance">Balance: â‚¹0</span>
        </div>
        <div class="user-actions">
          <button id="admin-panel-btn" class="btn btn--secondary btn--sm hidden">Admin Panel</button>
          <button id="profile-btn" class="btn btn--outline btn--sm">Profile</button>
          <button id="logout-btn" class="btn btn--outline btn--sm">Logout</button>
        </div>
      </div>

      <!-- Quick Order Section -->
      <section class="quick-order-section">
        <h2 class="section-title">âš¡ Quick Order</h2>
        <div class="quick-order-form">
          <div class="form-group">
            <label for="quick-diamonds" class="form-label">Diamond Amount</label>
            <input type="number" id="quick-diamonds" class="form-control" placeholder="Enter diamond amount" min="11">
          </div>
          <button id="quick-order-btn" class="btn btn--primary">Calculate Price</button>
          <div class="quick-order-result hidden" id="quick-order-result">
            <span class="quick-price" id="quick-price">â‚¹0</span>
            <button class="btn btn--secondary" onclick="showOrderModal('Custom Amount', 'â‚¹0')">Order Now</button>
          </div>
        </div>
      </section>

      <!-- Payment Info -->
      <section class="payment-section">
        <h2 class="section-title">ðŸ’³ Payment Information</h2>
        <div class="payment-info-card">
          <div class="payment-qr">
            <img src="https://i.ibb.co/Ng8QNzV9/Whats-App-Image-2025-07-02-at-09-13-44-998097fb.jpg" alt="Payment QR Code" class="qr-code">
            <button class="btn btn--sm btn--outline qr-download" onclick="downloadQR()">
              <i class="fas fa-download"></i> Download QR
            </button>
          </div>
          <div class="payment-methods">
            <div class="payment-method">
              <h3>UPI Payment</h3>
              <div class="upi-info">
                <span class="upi-id">BHARATPE.8R0E0I8U2N09755@fbpe</span>
                <button class="btn btn--sm btn--outline" onclick="copyUpiId()">
                  <i class="fas fa-copy"></i> Copy
                </button>
              </div>
            </div>
            <div class="payment-method">
              <h3>WhatsApp Support</h3>
              <div class="whatsapp-info">
                <span class="whatsapp-number">+91 9362584929</span>
                <a href="https://wa.me/919362584929" target="_blank" class="btn btn--sm btn--primary">
                  <i class="fab fa-whatsapp"></i> Chat Now
                </a>
              </div>
            </div>
            <div class="payment-method">
              <h3>Payment Status</h3>
              <div class="payment-status">
                <select id="payment-status" class="form-control">
                  <option value="pending">Pending Payment</option>
                  <option value="completed">Payment Completed</option>
                  <option value="problem">Payment Problem</option>
                </select>
                <button id="update-status" class="btn btn--sm btn--secondary">Update</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- [Rest of your existing content remains the same...] -->

    </main>

    <!-- Profile Modal -->
    <div id="profile-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ðŸ‘¤ Your Profile</h3>
          <button class="close-btn" id="close-profile">&times;</button>
        </div>
        <div class="modal-body">
          <div class="profile-info">
            <div class="profile-avatar">
              <img src="https://i.ibb.co/4Y8xYZF/default-avatar.png" alt="Profile Avatar" id="user-avatar">
              <button class="btn btn--sm btn--outline" id="change-avatar">Change</button>
            </div>
            <div class="profile-details">
              <div class="detail-item">
                <span class="detail-label">Username:</span>
                <span class="detail-value" id="profile-username"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Email:</span>
                <span class="detail-value" id="profile-email"></span>
                <button class="btn btn--xs btn--outline" id="edit-email">Edit</button>
              </div>
              <div class="detail-item">
                <span class="detail-label">Member Since:</span>
                <span class="detail-value" id="profile-joined"></span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Total Orders:</span>
                <span class="detail-value" id="profile-orders">0</span>
              </div>
            </div>
          </div>
          
          <div class="profile-actions">
            <button class="btn btn--primary" id="change-password-btn">Change Password</button>
            <button class="btn btn--outline" id="delete-account-btn">Delete Account</button>
          </div>
        </div>
      </div>
    </div>

    <!-- [Rest of your existing modals remain the same...] -->

    <!-- Order History Modal -->
    <div id="history-modal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-header">
          <h3>ðŸ“œ Order History</h3>
          <button class="close-btn" id="close-history">&times;</button>
        </div>
        <div class="modal-body">
          <div class="order-history-container">
            <div class="history-filters">
              <select id="history-filter" class="form-control">
                <option value="all">All Orders</option>
                <option value="pending">Pending</option>
                <option value="completed">Completed</option>
                <option value="cancelled">Cancelled</option>
              </select>
              <button class="btn btn--sm btn--secondary" id="refresh-history">Refresh</button>
            </div>
            <div class="history-list" id="history-list">
              <!-- Orders will be populated by JavaScript -->
              <div class="no-orders">No orders found</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Notification -->
    <div id="notification" class="notification hidden">
      <span id="notification-text"></span>
      <button class="notification-close" onclick="hideNotification()">&times;</button>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
      <div class="loading-spinner"></div>
      <div class="loading-text" id="loading-text">Processing...</div>
    </div>
  </div>

  <script src="app.js"></script>
  <script>
    // Additional global functions
    function downloadQR() {
      // QR download functionality
      showNotification('QR code download started', 'success');
    }
    
    function hideNotification() {
      document.getElementById('notification').classList.add('hidden');
    }
    
    // Auto-hide notification after 5 seconds
    function autoHideNotification() {
      setTimeout(hideNotification, 5000);
    }
    
    // Initialize any global event listeners
    document.addEventListener('DOMContentLoaded', function() {
      // Add any initialization code here
    });
  </script>
</body>
</html>
